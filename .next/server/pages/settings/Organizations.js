"use strict";(()=>{var e={};e.id=1464,e.ids=[1464,660],e.modules={8729:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>g,default:()=>p,getServerSideProps:()=>f,getStaticPaths:()=>x,getStaticProps:()=>m,reportWebVitals:()=>j,routeModule:()=>k,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>y});var s=a(7093),i=a(5244),l=a(1323),n=a(1682),o=a.n(n),d=a(8141),c=a.n(d),h=a(1646),u=e([h]);h=(u.then?(await u)():u)[0];let p=(0,l.l)(h,"default"),m=(0,l.l)(h,"getStaticProps"),x=(0,l.l)(h,"getStaticPaths"),f=(0,l.l)(h,"getServerSideProps"),g=(0,l.l)(h,"config"),j=(0,l.l)(h,"reportWebVitals"),y=(0,l.l)(h,"unstable_getStaticProps"),b=(0,l.l)(h,"unstable_getStaticPaths"),v=(0,l.l)(h,"unstable_getStaticParams"),w=(0,l.l)(h,"unstable_getServerProps"),N=(0,l.l)(h,"unstable_getServerSideProps"),k=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/settings/Organizations",pathname:"/settings/Organizations",bundlePath:"",filename:""},components:{App:c(),Document:o()},userland:h});r()}catch(e){r(e)}})},3592:(e,t,a)=>{a.d(t,{Z:()=>h});var r=a(6689);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),l=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:c,...h},u)=>(0,r.createElement)("svg",{ref:u,...d,width:t,height:t,stroke:e,strokeWidth:s?24*Number(a)/Number(t):a,className:n("lucide",i),...!l&&!o(h)&&{"aria-hidden":"true"},...h},[...c.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(l)?l:[l]])),h=(e,t)=>{let a=(0,r.forwardRef)(({className:a,...i},o)=>(0,r.createElement)(c,{ref:o,iconNode:t,className:n(`lucide-${s(l(e))}`,`lucide-${e}`,a),...i}));return a.displayName=l(e),a}},7871:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(3592).Z)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},8501:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(3592).Z)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},6460:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(3592).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1560:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(3592).Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},207:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{RM:()=>c,SC:()=>h,iA:()=>o,pj:()=>p,ss:()=>u,xD:()=>d});var s=a(997),i=a(6689),l=a(7742),n=e([l]);l=(n.then?(await n)():n)[0];let o=i.forwardRef(({className:e,...t},a)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",e),...t})}));o.displayName="Table";let d=i.forwardRef(({className:e,...t},a)=>s.jsx("thead",{ref:a,className:(0,l.cn)("[&_tr]:border-b",e),...t}));d.displayName="TableHeader";let c=i.forwardRef(({className:e,...t},a)=>s.jsx("tbody",{ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...t}));c.displayName="TableBody",i.forwardRef(({className:e,...t},a)=>s.jsx("tfoot",{ref:a,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let h=i.forwardRef(({className:e,...t},a)=>s.jsx("tr",{ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));h.displayName="TableRow";let u=i.forwardRef(({className:e,...t},a)=>s.jsx("th",{ref:a,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableHead";let p=i.forwardRef(({className:e,...t},a)=>s.jsx("td",{ref:a,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));p.displayName="TableCell",i.forwardRef(({className:e,...t},a)=>s.jsx("caption",{ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption",r()}catch(e){r(e)}})},7568:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{a:()=>o}),a(997);var s=a(6689),i=a(550),l=e([i]);i=(l.then?(await l)():l)[0];let n=(0,s.createContext)({session:null,user:null,signOut:async()=>{},loading:!0,isAdmin:!1,userRole:null,updateUserProfile:async()=>{}}),o=()=>{let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e};r()}catch(e){r(e)}})},1646:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>g});var s=a(997),i=a(6689),l=a(4661),n=a(5364),o=a(207),d=a(6460),c=a(7871),h=a(8501),u=a(1560),p=a(7568),m=a(8604),x=a(7270),f=e([n,o,p,m,x]);[n,o,p,m,x]=f.then?(await f)():f;let g=()=>{let e=(0,l.useNavigate)(),{user:t}=(0,p.a)(),[a,r]=(0,i.useState)([]),[f,g]=(0,i.useState)(!0);(0,i.useEffect)(()=>{j()},[]);let j=async()=>{try{g(!0);let e=await m.z.getOrganizations();r(e)}catch(e){console.error("Error fetching organizations:",e),x.toast.error("Failed to load organizations")}finally{g(!1)}},y=async e=>{if(window.confirm("Are you sure you want to delete this organization?"))try{await m.z.deleteOrganization(e),x.toast.success("Organization deleted successfully"),j()}catch(e){console.error("Error deleting organization:",e),x.toast.error("Failed to delete organization")}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Organizations"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your organizations and their settings"})]}),(0,s.jsxs)(n.z,{onClick:()=>e("/settings/organizations/new"),className:"flex items-center gap-2",children:[s.jsx(d.Z,{className:"h-4 w-4"}),"Add Organization"]})]}),s.jsx("div",{className:"rounded-md border",children:(0,s.jsxs)(o.iA,{children:[s.jsx(o.xD,{children:(0,s.jsxs)(o.SC,{children:[s.jsx(o.ss,{children:"Organization Name"}),s.jsx(o.ss,{children:"Address"}),s.jsx(o.ss,{children:"Contact"}),s.jsx(o.ss,{children:"Profile Name"}),s.jsx(o.ss,{className:"text-right",children:"Actions"})]})}),s.jsx(o.RM,{children:f?s.jsx(o.SC,{children:s.jsx(o.pj,{colSpan:5,className:"text-center",children:"Loading..."})}):0===a.length?s.jsx(o.SC,{children:s.jsx(o.pj,{colSpan:5,className:"text-center",children:"No organizations found"})}):a.map(t=>(0,s.jsxs)(o.SC,{children:[s.jsx(o.pj,{className:"font-medium",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(c.Z,{className:"h-4 w-4 text-muted-foreground"}),t.profile_name]})}),s.jsx(o.pj,{children:t.address}),(0,s.jsxs)(o.pj,{children:[s.jsx("div",{children:t.email}),s.jsx("div",{className:"text-sm text-muted-foreground",children:t.phone})]}),s.jsx(o.pj,{children:s.jsx("div",{children:t.name})}),s.jsx(o.pj,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[s.jsx(n.z,{variant:"ghost",size:"icon",onClick:()=>e(`/settings/organizations/${t.id}`),children:s.jsx(h.Z,{className:"h-4 w-4"})}),s.jsx(n.z,{variant:"ghost",size:"icon",onClick:()=>y(t.id),children:s.jsx(u.Z,{className:"h-4 w-4"})})]})})]},t.id))})]})})]})};r()}catch(e){r(e)}})},2885:e=>{e.exports=require("@supabase/supabase-js")},7276:e=>{e.exports=require("html2canvas")},5158:e=>{e.exports=require("jspdf")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},4661:e=>{e.exports=require("react-router-dom")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},4338:e=>{e.exports=import("@radix-ui/react-slot")},6926:e=>{e.exports=import("class-variance-authority")},6593:e=>{e.exports=import("clsx")},7270:e=>{e.exports=import("sonner")}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[1682,1106],()=>a(8729));module.exports=r})();