"use strict";(()=>{var e={};e.id=1309,e.ids=[1309,660],e.modules={2577:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>y,default:()=>h,getServerSideProps:()=>j,getStaticPaths:()=>p,getStaticProps:()=>u,reportWebVitals:()=>g,routeModule:()=>T,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>_,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>f});var a=r(7093),i=r(5244),l=r(1323),o=r(1682),n=r.n(o),d=r(8141),c=r.n(d),m=r(5435),x=e([m]);m=(x.then?(await x)():x)[0];let h=(0,l.l)(m,"default"),u=(0,l.l)(m,"getStaticProps"),p=(0,l.l)(m,"getStaticPaths"),j=(0,l.l)(m,"getServerSideProps"),y=(0,l.l)(m,"config"),g=(0,l.l)(m,"reportWebVitals"),f=(0,l.l)(m,"unstable_getStaticProps"),b=(0,l.l)(m,"unstable_getStaticPaths"),w=(0,l.l)(m,"unstable_getStaticParams"),N=(0,l.l)(m,"unstable_getServerProps"),_=(0,l.l)(m,"unstable_getServerSideProps"),T=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/QuotePreview",pathname:"/QuotePreview",bundlePath:"",filename:""},components:{App:c(),Document:n()},userland:m});s()}catch(e){s(e)}})},3592:(e,t,r)=>{r.d(t,{Z:()=>m});var s=r(6689);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),l=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),n=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:c,...m},x)=>(0,s.createElement)("svg",{ref:x,...d,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:o("lucide",i),...!l&&!n(m)&&{"aria-hidden":"true"},...m},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(l)?l:[l]])),m=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...i},n)=>(0,s.createElement)(c,{ref:n,iconNode:t,className:o(`lucide-${a(l(e))}`,`lucide-${e}`,r),...i}));return r.displayName=l(e),r}},9763:(e,t,r)=>{r.d(t,{Z:()=>s});let s=(0,r(3592).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3795:(e,t,r)=>{r.d(t,{Z:()=>s});let s=(0,r(3592).Z)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},8057:(e,t,r)=>{r.d(t,{Z:()=>s});let s=(0,r(3592).Z)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},594:(e,t,r)=>{r.d(t,{Z:()=>s});let s=(0,r(3592).Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},349:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{Z:()=>c});var a=r(997);r(6689);var i=r(3547),l=e([i]);let o=(i=(l.then?(await l)():l)[0]).StyleSheet.create({page:{padding:30,fontFamily:"Helvetica"},container:{maxWidth:800,margin:"0 auto"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginBottom:20},logo:{height:40,marginBottom:12},companyName:{fontSize:16,fontWeight:"bold",marginBottom:12},quoteNumber:{fontSize:20,fontWeight:"bold",marginBottom:4,textAlign:"right"},dates:{flexDirection:"row",justifyContent:"space-between",borderBottom:1,borderColor:"#E5E7EB",paddingBottom:16,marginBottom:16},date:{fontSize:10,color:"#666"},project:{marginBottom:16},projectTitle:{fontSize:14,fontWeight:"semibold",marginBottom:6},projectContent:{backgroundColor:"#F9FAFB",padding:12,borderRadius:4},projectDetails:{marginTop:6},projectDetail:{fontSize:9,color:"#666",marginBottom:3},fromTo:{flexDirection:"row",justifyContent:"space-between",marginBottom:20},fromToSection:{width:"48%"},fromToTitle:{fontSize:12,color:"#2563EB",fontWeight:"medium",marginBottom:6},fromToName:{fontSize:14,fontWeight:"bold",marginBottom:6},fromToText:{fontSize:9,color:"#666",marginBottom:3},table:{marginTop:20,width:"100%",borderWidth:1,borderColor:"#E5E7EB",borderRadius:4},tableHeader:{flexDirection:"row",backgroundColor:"#F9FAFB",padding:8,borderBottomWidth:1,borderBottomColor:"#E5E7EB"},tableHeaderCell:{fontSize:9,color:"#666",textTransform:"uppercase",fontWeight:"medium"},tableRow:{flexDirection:"row",padding:8,borderBottomWidth:1,borderBottomColor:"#E5E7EB"},tableCell:{fontSize:9,color:"#111827"},tableFooter:{flexDirection:"row",backgroundColor:"#F9FAFB",padding:8,borderTopWidth:1,borderTopColor:"#E5E7EB"},notes:{marginTop:20,borderTop:1,borderColor:"#E5E7EB",paddingTop:16},notesTitle:{fontSize:14,fontWeight:"semibold",marginBottom:6},notesText:{fontSize:9,color:"#666"},footer:{marginTop:30,borderTop:1,borderColor:"#E5E7EB",paddingTop:20},footerTitle:{fontSize:16,fontWeight:"bold",marginBottom:12},footerText:{fontSize:9,color:"#666"},footerLink:{color:"#2563EB"}}),n=(e,t="USD")=>{try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}catch(t){return console.error("Currency formatting error:",t),`$${e.toFixed(2)}`}},d=e=>new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),c=({quote:e})=>{let t=e.quote_items.reduce((e,t)=>e+t.amount,0),r=e.tax_amount||0,s=e.total_amount;return a.jsx(i.Document,{children:a.jsx(i.Page,{size:"A4",style:o.page,children:(0,a.jsxs)(i.View,{style:o.container,children:[(0,a.jsxs)(i.View,{style:o.header,children:[a.jsx(i.View,{children:e.user?.user_metadata?.logo_url?a.jsx(i.Image,{src:e.user.user_metadata.logo_url,style:o.logo}):a.jsx(i.Text,{style:o.companyName,children:e.user?.user_metadata?.businessName||"Company Name"})}),a.jsx(i.View,{children:(0,a.jsxs)(i.Text,{style:o.quoteNumber,children:["Quote #",e.quote_number]})})]}),(0,a.jsxs)(i.View,{style:o.dates,children:[(0,a.jsxs)(i.View,{children:[a.jsx(i.Text,{style:o.date,children:"Issue Date"}),a.jsx(i.Text,{style:o.date,children:d(e.issue_date)})]}),(0,a.jsxs)(i.View,{children:[a.jsx(i.Text,{style:o.date,children:"Expiry Date"}),a.jsx(i.Text,{style:o.date,children:d(e.expiry_date)})]})]}),e.project&&(0,a.jsxs)(i.View,{style:o.project,children:[a.jsx(i.Text,{style:o.projectTitle,children:"Project"}),a.jsx(i.View,{style:o.projectContent,children:(0,a.jsxs)(i.View,{style:o.projectDetails,children:[(0,a.jsxs)(i.Text,{style:o.projectDetail,children:[a.jsx(i.Text,{style:{fontWeight:"medium"},children:"Project Name: "}),e.project.name]}),e.project.description&&(0,a.jsxs)(i.Text,{style:o.projectDetail,children:[(0,a.jsxs)(i.Text,{style:{fontWeight:"medium"},children:["Description:"," "]}),e.project.description]}),e.project.start_date&&(0,a.jsxs)(i.Text,{style:o.projectDetail,children:[a.jsx(i.Text,{style:{fontWeight:"medium"},children:"Start Date: "}),d(e.project.start_date)]}),e.project.end_date&&(0,a.jsxs)(i.Text,{style:o.projectDetail,children:[a.jsx(i.Text,{style:{fontWeight:"medium"},children:"End Date: "}),d(e.project.end_date)]})]})})]}),(0,a.jsxs)(i.View,{style:o.fromTo,children:[(0,a.jsxs)(i.View,{style:o.fromToSection,children:[a.jsx(i.Text,{style:o.fromToTitle,children:"FROM:"}),a.jsx(i.Text,{style:o.fromToName,children:e.user?.user_metadata?.businessName||"Company Name"}),a.jsx(i.Text,{style:o.fromToText,children:e.user?.user_metadata?.address||"Address"}),a.jsx(i.Text,{style:o.fromToText,children:e.user?.user_metadata?.phone||"Phone"}),a.jsx(i.Text,{style:o.fromToText,children:e.user?.user_metadata?.email||"Email"})]}),(0,a.jsxs)(i.View,{style:o.fromToSection,children:[a.jsx(i.Text,{style:o.fromToTitle,children:"TO:"}),a.jsx(i.Text,{style:o.fromToName,children:e.client?.name||"N/A"}),a.jsx(i.Text,{style:o.fromToText,children:e.client?.address||"N/A"}),a.jsx(i.Text,{style:o.fromToText,children:[e.client?.city,e.client?.state,e.client?.postal_code].filter(Boolean).join(" ")}),a.jsx(i.Text,{style:o.fromToText,children:e.client?.country||""}),(0,a.jsxs)(i.Text,{style:o.fromToText,children:["Phone: ",e.client?.phone||"N/A"]}),(0,a.jsxs)(i.Text,{style:o.fromToText,children:["Email: ",e.client?.email||"N/A"]})]})]}),(0,a.jsxs)(i.View,{style:o.table,children:[(0,a.jsxs)(i.View,{style:o.tableHeader,children:[a.jsx(i.Text,{style:[o.tableHeaderCell,{width:"45%"}],children:"Description"}),a.jsx(i.Text,{style:[o.tableHeaderCell,{width:"15%",textAlign:"right"}],children:"Quantity"}),a.jsx(i.Text,{style:[o.tableHeaderCell,{width:"20%",textAlign:"right"}],children:"Unit Price"}),a.jsx(i.Text,{style:[o.tableHeaderCell,{width:"20%",textAlign:"right"}],children:"Amount"})]}),e.quote_items.map((t,r)=>(0,a.jsxs)(i.View,{style:o.tableRow,children:[a.jsx(i.Text,{style:[o.tableCell,{width:"45%"}],children:t.description}),a.jsx(i.Text,{style:[o.tableCell,{width:"15%",textAlign:"right"}],children:t.quantity}),a.jsx(i.Text,{style:[o.tableCell,{width:"20%",textAlign:"right"}],children:n(t.unit_price,e.currency)}),a.jsx(i.Text,{style:[o.tableCell,{width:"20%",textAlign:"right"}],children:n(t.amount,e.currency)})]},r)),(0,a.jsxs)(i.View,{style:o.tableFooter,children:[a.jsx(i.Text,{style:[o.tableCell,{width:"80%",textAlign:"right"}],children:"Subtotal"}),a.jsx(i.Text,{style:[o.tableCell,{width:"20%",textAlign:"right"}],children:n(t,e.currency)})]}),(0,a.jsxs)(i.View,{style:o.tableFooter,children:[(0,a.jsxs)(i.Text,{style:[o.tableCell,{width:"80%",textAlign:"right"}],children:["Tax (",e.tax_rate||0,"%)"]}),a.jsx(i.Text,{style:[o.tableCell,{width:"20%",textAlign:"right"}],children:n(r,e.currency)})]}),(0,a.jsxs)(i.View,{style:o.tableFooter,children:[a.jsx(i.Text,{style:[o.tableCell,{width:"80%",textAlign:"right",fontWeight:"bold"}],children:"Total"}),a.jsx(i.Text,{style:[o.tableCell,{width:"20%",textAlign:"right",fontWeight:"bold"}],children:n(s,e.currency)})]})]}),(e.notes||e.terms)&&(0,a.jsxs)(i.View,{style:o.notes,children:[e.notes&&(0,a.jsxs)(i.View,{style:{marginBottom:16},children:[a.jsx(i.Text,{style:o.notesTitle,children:"Notes"}),a.jsx(i.Text,{style:o.notesText,children:e.notes})]}),e.terms&&(0,a.jsxs)(i.View,{children:[a.jsx(i.Text,{style:o.notesTitle,children:"Terms"}),a.jsx(i.Text,{style:o.notesText,children:e.terms})]})]}),(0,a.jsxs)(i.View,{style:o.footer,children:[a.jsx(i.Text,{style:o.footerTitle,children:"Thank you!"}),(0,a.jsxs)(i.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,a.jsxs)(i.View,{style:{flexDirection:"row",gap:16},children:[a.jsx(i.Text,{style:o.footerText,children:e.user?.user_metadata?.phone||"Phone"}),a.jsx(i.Text,{style:o.footerText,children:e.user?.user_metadata?.address||"Address"})]}),e.user?.user_metadata?.website&&a.jsx(i.Text,{style:[o.footerText,o.footerLink],children:e.user.user_metadata.website})]})]})]})})})};s()}catch(e){s(e)}})},947:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{Ol:()=>d,SZ:()=>m,Zb:()=>n,aY:()=>x,eW:()=>h,ll:()=>c});var a=r(997),i=r(6689),l=r(7742),o=e([l]);l=(o.then?(await o)():o)[0];let n=i.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let d=i.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let c=i.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let m=i.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));m.displayName="CardDescription";let x=i.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,l.cn)("p-6 pt-0",e),...t}));x.displayName="CardContent";let h=i.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t}));h.displayName="CardFooter",s()}catch(e){s(e)}})},3460:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{toast:()=>a.toast}),r(997),function(){var e=Error("Cannot find module 'next-themes'");throw e.code="MODULE_NOT_FOUND",e}();var a=r(7270),i=e([a]);a=(i.then?(await i)():i)[0],s()}catch(e){s(e)}})},7568:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{a:()=>n}),r(997);var a=r(6689),i=r(550),l=e([i]);i=(l.then?(await l)():l)[0];let o=(0,a.createContext)({session:null,user:null,signOut:async()=>{},loading:!0,isAdmin:!1,userRole:null,updateUserProfile:async()=>{}}),n=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e};s()}catch(e){s(e)}})},5435:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>f});var a=r(997),i=r(6689),l=r(4661),o=r(5364),n=r(947),d=r(3460),c=r(7568),m=r(8604),x=r(3795),h=r(9763),u=r(594),p=r(8057);!function(){var e=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}();var j=r(3547),y=r(349),g=e([o,n,d,c,m,j,y]);[o,n,d,c,m,j,y]=g.then?(await g)():g;let f=()=>{let{id:e}=(0,l.useParams)(),t=(0,l.useNavigate)(),{user:r}=(0,c.a)(),[s,g]=(0,i.useState)(null),[f,b]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{if(e)try{let t=await m.z.getQuoteById(e);console.log("Fetched quote data:",t);let r=t.quote_items.reduce((e,t)=>{let r=Number(t.amount)||0;return e+r},0),s=Number(t.tax_rate)||0,a=r*s/100;t.subtotal_amount=r,t.tax_amount=a,t.total_amount=r+a,console.log("Calculated values:",{subtotal:r,taxRate:s,tax:a,total:r+a}),g(t)}catch(e){console.error("Error fetching quote:",e),d.toast.error("Failed to fetch quote")}finally{b(!1)}})()},[e]);let w=async()=>{if(e&&s)try{d.toast.loading("Sending quote..."),await m.z.sendQuoteEmail(e),g(e=>e?{...e,status:"sent"}:null),d.toast.success("Quote sent successfully to "+s.client?.email)}catch(e){console.error("Error sending quote:",e),d.toast.error(e instanceof Error?e.message:"Failed to send quote")}},N=async()=>{if(s)try{let e={...s,user:{user_metadata:{businessName:r?.user_metadata?.businessName||r?.businessName||"Company Name",address:r?.user_metadata?.address||"Address",phone:r?.user_metadata?.phone||"Phone",email:r?.user_metadata?.email||r?.email||"Email",website:r?.user_metadata?.website,logo_url:r?.user_metadata?.logo_url}}},t=await (0,j.pdf)(a.jsx(y.Z,{quote:e})).toBlob(),i=URL.createObjectURL(t),l=window.open(i);l&&(l.onload=()=>{l.print(),URL.revokeObjectURL(i)})}catch(e){console.error("Error generating PDF for print:",e),d.toast.error("Failed to prepare document for printing")}},_=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:s?.currency||"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return f?a.jsx("div",{children:"Loading..."}):s?(0,a.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)(o.z,{variant:"outline",onClick:()=>t(-1),className:"flex items-center gap-2",children:[a.jsx(h.Z,{className:"h-4 w-4"}),"Back"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(()=>{if(!s)return null;let e={...s,user:{user_metadata:{businessName:r?.user_metadata?.businessName||r?.businessName||"Company Name",address:r?.user_metadata?.address||"Address",phone:r?.user_metadata?.phone||"Phone",email:r?.user_metadata?.email||r?.email||"Email",website:r?.user_metadata?.website,logo_url:r?.user_metadata?.logo_url}}};return a.jsx(j.PDFDownloadLink,{document:a.jsx(y.Z,{quote:e}),fileName:`quote-${s.quote_number}.pdf`,style:{textDecoration:"none"},children:({loading:e,error:t})=>(0,a.jsxs)(o.z,{variant:"outline",size:"sm",disabled:e,onClick:()=>{t?(console.error("PDF generation error:",t),d.toast.error("Failed to generate PDF")):e||d.toast.success("Quote downloaded successfully")},children:[a.jsx(x.Z,{className:"h-4 w-4 mr-2"}),e?"Generating...":"Download PDF"]})})})(),(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:w,children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Send"]}),(0,a.jsxs)(o.z,{variant:"outline",onClick:N,children:[a.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),(0,a.jsxs)(n.Zb,{className:"bg-white p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-12",children:[a.jsx("div",{children:r?.user_metadata?.logo_url?a.jsx("img",{src:r.user_metadata.logo_url,alt:"Company Logo",className:"h-12 mb-4"}):a.jsx("h1",{className:"text-2xl font-bold mb-4",children:r?.user_metadata?.businessName||r?.businessName||"10AM Creative Studio"})}),a.jsx("div",{className:"text-right",children:(0,a.jsxs)("h2",{className:"text-3xl font-bold mb-1",children:["Quote ",s.quote_number]})})]}),a.jsx("div",{className:"border-b border-gray-200 pb-6 mb-6",children:a.jsx("div",{className:"flex flex-col gap-2",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Issue Date"}),a.jsx("p",{children:Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(new Date(s.issue_date),"dd/MM/yyyy")})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Expiry Date"}),a.jsx("p",{children:Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(new Date(s.expiry_date),"dd/MM/yyyy")})]})]})})}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Project"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsx("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Project Details"}),s.project?(0,a.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Project Name:"})," ",s.project.name]}),s.project.description&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Description:"})," ",s.project.description]}),s.project.start_date&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Start Date:"})," ",Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(new Date(s.project.start_date),"dd/MM/yyyy")]}),s.project.end_date&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"End Date:"})," ",Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(new Date(s.project.end_date),"dd/MM/yyyy")]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"No project associated with this quote"})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-blue-600 font-medium mb-2",children:"FROM:"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:r?.user_metadata?.businessName||r?.businessName||"10AM Creative Studio"}),a.jsx("p",{className:"text-gray-600",children:r?.user_metadata?.address||"Surabaya, East Java, Indonesia"}),a.jsx("p",{className:"text-gray-600",children:r?.user_metadata?.phone||"+62 820 4389 2489"}),a.jsx("p",{className:"text-gray-600",children:r?.user_metadata?.email||r?.email||"inquiryfor@10am.com"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-blue-600 font-medium mb-2",children:"TO:"}),(0,a.jsxs)("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium",children:s.client?.name||"N/A"}),a.jsx("p",{children:s.client?.address||"N/A"}),(0,a.jsxs)("p",{children:[s.client?.city||""," ",s.client?.state||""," ",s.client?.postal_code||""]}),a.jsx("p",{children:s.client?.country||""}),(0,a.jsxs)("p",{children:["Phone: ",s.client?.phone||"N/A"]}),(0,a.jsxs)("p",{children:["Email: ",s.client?.email||"N/A"]})]})]})]}),a.jsx("div",{className:"mt-8",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.quote_items?.map((e,t)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.description}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:e.quantity}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:_(e.unit_price)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:_(e.amount)})]},t))}),(0,a.jsxs)("tfoot",{className:"bg-gray-50",children:[(0,a.jsxs)("tr",{children:[a.jsx("td",{colSpan:3,className:"px-6 py-4 text-right text-sm font-medium text-gray-500",children:"Subtotal"}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:_(s.subtotal_amount)})]}),(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{colSpan:3,className:"px-6 py-4 text-right text-sm font-medium text-gray-500",children:["Tax (",s.tax_rate||0,"%)"]}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:_(s.tax_amount||0)})]}),(0,a.jsxs)("tr",{children:[a.jsx("td",{colSpan:3,className:"px-6 py-4 text-right text-sm font-medium text-gray-500",children:"Total"}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:_(s.total_amount)})]})]})]})}),(s.notes||s.terms)&&(0,a.jsxs)("div",{className:"mt-8 border-t border-gray-200 pt-6",children:[s.notes&&(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Notes"}),a.jsx("p",{className:"text-gray-600",children:s.notes})]}),s.terms&&(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Terms"}),a.jsx("p",{className:"text-gray-600",children:s.terms})]})]}),(0,a.jsxs)("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Thank you!"}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-gray-500 text-sm",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx("span",{children:r?.user_metadata?.phone||"+62 820 4389 2489"}),a.jsx("span",{children:r?.user_metadata?.address||"East Java, Indonesia"})]}),r?.user_metadata?.website&&a.jsx("a",{href:r.user_metadata.website,className:"text-blue-600 hover:underline",children:r.user_metadata.website})]})]})]})]}):a.jsx("div",{children:"Quote not found"})};s()}catch(e){s(e)}})},2885:e=>{e.exports=require("@supabase/supabase-js")},7276:e=>{e.exports=require("html2canvas")},5158:e=>{e.exports=require("jspdf")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},4661:e=>{e.exports=require("react-router-dom")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},4338:e=>{e.exports=import("@radix-ui/react-slot")},3547:e=>{e.exports=import("@react-pdf/renderer")},6926:e=>{e.exports=import("class-variance-authority")},6593:e=>{e.exports=import("clsx")},7270:e=>{e.exports=import("sonner")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1682,1106],()=>r(2577));module.exports=s})();