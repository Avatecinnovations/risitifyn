"use strict";(()=>{var e={};e.id=6398,e.ids=[6398,660],e.modules={1871:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>y,default:()=>h,getServerSideProps:()=>g,getStaticPaths:()=>p,getStaticProps:()=>u,reportWebVitals:()=>v,routeModule:()=>b,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>_,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>j});var a=s(7093),i=s(5244),n=s(1323),d=s(1682),l=s.n(d),c=s(8141),o=s.n(c),x=s(5306),m=e([x]);x=(m.then?(await m)():m)[0];let h=(0,n.l)(x,"default"),u=(0,n.l)(x,"getStaticProps"),p=(0,n.l)(x,"getStaticPaths"),g=(0,n.l)(x,"getServerSideProps"),y=(0,n.l)(x,"config"),v=(0,n.l)(x,"reportWebVitals"),j=(0,n.l)(x,"unstable_getStaticProps"),f=(0,n.l)(x,"unstable_getStaticPaths"),N=(0,n.l)(x,"unstable_getStaticParams"),w=(0,n.l)(x,"unstable_getServerProps"),_=(0,n.l)(x,"unstable_getServerSideProps"),b=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/InvoiceDetails",pathname:"/InvoiceDetails",bundlePath:"",filename:""},components:{App:o(),Document:l()},userland:x});r()}catch(e){r(e)}})},3592:(e,t,s)=>{s.d(t,{Z:()=>x});var r=s(6689);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},d=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:i="",children:n,iconNode:o,...x},m)=>(0,r.createElement)("svg",{ref:m,...c,width:t,height:t,stroke:e,strokeWidth:a?24*Number(s)/Number(t):s,className:d("lucide",i),...!n&&!l(x)&&{"aria-hidden":"true"},...x},[...o.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(n)?n:[n]])),x=(e,t)=>{let s=(0,r.forwardRef)(({className:s,...i},l)=>(0,r.createElement)(o,{ref:l,iconNode:t,className:d(`lucide-${a(n(e))}`,`lucide-${e}`,s),...i}));return s.displayName=n(e),s}},9763:(e,t,s)=>{s.d(t,{Z:()=>r});let r=(0,s(3592).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3795:(e,t,s)=>{s.d(t,{Z:()=>r});let r=(0,s(3592).Z)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},3656:(e,t,s)=>{s.d(t,{Z:()=>r});let r=(0,s(3592).Z)("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},8057:(e,t,s)=>{s.d(t,{Z:()=>r});let r=(0,s(3592).Z)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},4866:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.d(t,{C:()=>l});var a=s(997);s(6689);var i=s(6926),n=s(7742),d=e([i,n]);[i,n]=d.then?(await d)():d;let c=(0,i.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...s}){return a.jsx("div",{className:(0,n.cn)(c({variant:t}),e),...s})}r()}catch(e){r(e)}})},7568:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.d(t,{a:()=>l}),s(997);var a=s(6689),i=s(550),n=e([i]);i=(n.then?(await n)():n)[0];let d=(0,a.createContext)({session:null,user:null,signOut:async()=>{},loading:!0,isAdmin:!1,userRole:null,updateUserProfile:async()=>{}}),l=()=>{let e=(0,a.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e};r()}catch(e){r(e)}})},5306:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>y});var a=s(997),i=s(6689),n=s(4661),d=s(9763),l=s(8057),c=s(3795),o=s(3656),x=s(8604),m=s(7270),h=s(7568),u=s(5364),p=s(4866);!function(){var e=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}();var g=e([x,m,h,u,p]);[x,m,h,u,p]=g.then?(await g)():g;let y=()=>{let{id:e}=(0,n.useParams)(),{user:t}=(0,h.a)(),[s,r]=(0,i.useState)(null),[g,y]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{(async()=>{if(e&&t)try{let t=await x.z.getInvoice(e);r(t)}catch(e){console.error("Error fetching invoice:",e),m.toast.error("Failed to load invoice")}finally{y(!1)}})()},[e,t]),g)?a.jsx("div",{children:"Loading..."}):s?a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)(n.Link,{to:"/invoices",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700",children:[a.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Back to Invoices"]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Invoice #",s.invoice_number]}),(0,a.jsxs)("p",{className:"text-gray-500 mt-1",children:["Created on ",Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(new Date(s.created_at),"MMM d, yyyy")]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(u.z,{variant:"outline",size:"sm",children:[a.jsx(l.Z,{className:"h-4 w-4 mr-2"}),"Print"]}),(0,a.jsxs)(u.z,{variant:"outline",size:"sm",children:[a.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Download"]}),(0,a.jsxs)(u.z,{variant:"outline",size:"sm",children:[a.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Send"]})]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Bill From"}),(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:t?.user_metadata?.business_name||"Your Business Name"}),a.jsx("p",{className:"text-sm text-gray-500",children:t?.user_metadata?.address||"Your Address"}),a.jsx("p",{className:"text-sm text-gray-500",children:t?.user_metadata?.phone||"Your Phone"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Bill To"}),(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.clients.name}),a.jsx("p",{className:"text-sm text-gray-500",children:s.clients.email}),a.jsx("p",{className:"text-sm text-gray-500",children:s.clients.phone})]})]})]}),a.jsx("div",{className:"mt-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm font-medium text-gray-500",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{children:"Issue Date"}),a.jsx("p",{className:"mt-1 text-gray-900",children:Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(new Date(s.issue_date),"MMM d, yyyy")})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{children:"Due Date"}),a.jsx("p",{className:"mt-1 text-gray-900",children:Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(new Date(s.due_date),"MMM d, yyyy")})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{children:"Status"}),a.jsx(p.C,{variant:(e=>{switch(e){case"paid":default:return"default";case"pending":return"secondary";case"overdue":return"destructive"}})(s.status),className:"mt-1",children:s.status})]})]})}),a.jsx("div",{className:"mt-8",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.invoice_items.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.description}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:e.quantity}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:["$",e.unit_price.toFixed(2)]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:["$",e.amount.toFixed(2)]})]},e.id))}),(0,a.jsxs)("tfoot",{children:[(0,a.jsxs)("tr",{children:[a.jsx("td",{colSpan:3,className:"px-6 py-4 text-right text-sm font-medium text-gray-500",children:"Subtotal"}),(0,a.jsxs)("td",{className:"px-6 py-4 text-right text-sm text-gray-900",children:["$",s.total_amount.toFixed(2)]})]}),(0,a.jsxs)("tr",{children:[a.jsx("td",{colSpan:3,className:"px-6 py-4 text-right text-sm font-medium text-gray-500",children:"Tax"}),(0,a.jsxs)("td",{className:"px-6 py-4 text-right text-sm text-gray-900",children:["$",s.tax_amount.toFixed(2)]})]}),(0,a.jsxs)("tr",{children:[a.jsx("td",{colSpan:3,className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:"Total"}),(0,a.jsxs)("td",{className:"px-6 py-4 text-right text-sm font-medium text-gray-900",children:["$",(s.total_amount+s.tax_amount).toFixed(2)]})]})]})]})}),s.notes&&(0,a.jsxs)("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Notes"}),a.jsx("p",{className:"mt-2 text-sm text-gray-900",children:s.notes})]}),s.terms&&(0,a.jsxs)("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Terms"}),a.jsx("p",{className:"mt-2 text-sm text-gray-900",children:s.terms})]})]})})]})}):a.jsx("div",{children:"Invoice not found"})};r()}catch(e){r(e)}})},2885:e=>{e.exports=require("@supabase/supabase-js")},7276:e=>{e.exports=require("html2canvas")},5158:e=>{e.exports=require("jspdf")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},4661:e=>{e.exports=require("react-router-dom")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},4338:e=>{e.exports=import("@radix-ui/react-slot")},6926:e=>{e.exports=import("class-variance-authority")},6593:e=>{e.exports=import("clsx")},7270:e=>{e.exports=import("sonner")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[1682,1106],()=>s(1871));module.exports=r})();