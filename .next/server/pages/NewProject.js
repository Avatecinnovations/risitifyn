"use strict";(()=>{var e={};e.id=5297,e.ids=[5297,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},8159:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>g,default:()=>m,getServerSideProps:()=>x,getStaticPaths:()=>h,getStaticProps:()=>p,reportWebVitals:()=>b,routeModule:()=>w,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>O,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>v});var n=r(7093),o=r(5244),i=r(1323),s=r(1682),l=r.n(s),c=r(8141),d=r.n(c),u=r(854),f=e([u]);u=(f.then?(await f)():f)[0];let m=(0,i.l)(u,"default"),p=(0,i.l)(u,"getStaticProps"),h=(0,i.l)(u,"getStaticPaths"),x=(0,i.l)(u,"getServerSideProps"),g=(0,i.l)(u,"config"),b=(0,i.l)(u,"reportWebVitals"),v=(0,i.l)(u,"unstable_getStaticProps"),y=(0,i.l)(u,"unstable_getStaticPaths"),N=(0,i.l)(u,"unstable_getStaticParams"),j=(0,i.l)(u,"unstable_getServerProps"),O=(0,i.l)(u,"unstable_getServerSideProps"),w=new n.PagesRouteModule({definition:{kind:o.x.PAGES,page:"/NewProject",pathname:"/NewProject",bundlePath:"",filename:""},components:{App:d(),Document:l()},userland:u});a()}catch(e){a(e)}})},3592:(e,t,r)=>{r.d(t,{Z:()=>u});var a=r(6689);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=o(e);return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:d,...u},f)=>(0,a.createElement)("svg",{ref:f,...c,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:s("lucide",o),...!i&&!l(u)&&{"aria-hidden":"true"},...u},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(i)?i:[i]])),u=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...o},l)=>(0,a.createElement)(d,{ref:l,iconNode:t,className:s(`lucide-${n(i(e))}`,`lucide-${e}`,r),...o}));return r.displayName=i(e),r}},906:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(3592).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9934:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(3592).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7493:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(3592).Z)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},8141:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let a=r(5577),n=r(997),o=a._(r(6689)),i=r(5782);async function s(e){let{Component:t,ctx:r}=e;return{pageProps:await (0,i.loadGetInitialProps)(t,r)}}class l extends o.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,n.jsx)(e,{...t})}}l.origGetInitialProps=s,l.getInitialProps=s,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5364:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{z:()=>u});var n=r(997),o=r(6689),i=r(4338),s=r(6926),l=r(7742),c=e([i,s,l]);[i,s,l]=c.then?(await c)():c;let d=(0,s.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...o},s)=>{let c=a?i.Slot:"button";return n.jsx(c,{className:(0,l.cn)(d({variant:t,size:r,className:e})),ref:s,...o})});u.displayName="Button",a()}catch(e){a(e)}})},7095:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{I:()=>l});var n=r(997),o=r(6689),i=r(7742),s=e([i]);i=(s.then?(await s)():s)[0];let l=o.forwardRef(({className:e,type:t,...r},a)=>n.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));l.displayName="Input",a()}catch(e){a(e)}})},5659:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{Bw:()=>x,Ph:()=>u,Ql:()=>g,i4:()=>m,ki:()=>f});var n=r(997),o=r(6689);!function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}();var i=r(9934),s=r(7493),l=r(906),c=r(7742),d=e([c]);c=(d.then?(await d)():d)[0];let u=Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}());!function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}();let f=Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()),m=o.forwardRef(({className:e,children:t,...r},a)=>(0,n.jsxs)(Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()),{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()),{asChild:!0,children:n.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()).displayName;let p=o.forwardRef(({className:e,...t},r)=>n.jsx(Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()),{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(s.Z,{className:"h-4 w-4"})}));p.displayName=Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()).displayName;let h=o.forwardRef(({className:e,...t},r)=>n.jsx(Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()),{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(i.Z,{className:"h-4 w-4"})}));h.displayName=Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()).displayName;let x=o.forwardRef(({className:e,children:t,position:r="popper",...a},o)=>n.jsx(Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,n.jsxs)(Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()),{ref:o,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[n.jsx(p,{}),n.jsx(Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()),{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(h,{})]})}));x.displayName=Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()).displayName,o.forwardRef(({className:e,...t},r)=>n.jsx(Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()),{ref:r,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()).displayName;let g=o.forwardRef(({className:e,children:t,...r},a)=>(0,n.jsxs)(Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()),{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()),{children:n.jsx(l.Z,{className:"h-4 w-4"})})}),n.jsx(Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()),{children:t})]}));g.displayName=Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()).displayName,o.forwardRef(({className:e,...t},r)=>n.jsx(Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()),{ref:r,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=Object(function(){var e=Error("Cannot find module '@radix-ui/react-select'");throw e.code="MODULE_NOT_FOUND",e}()).displayName,a()}catch(e){a(e)}})},9451:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{g:()=>l});var n=r(997),o=r(6689),i=r(7742),s=e([i]);i=(s.then?(await s)():s)[0];let l=o.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));l.displayName="Textarea",a()}catch(e){a(e)}})},7568:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{a:()=>l}),r(997);var n=r(6689),o=r(550),i=e([o]);o=(i.then?(await i)():i)[0];let s=(0,n.createContext)({session:null,user:null,signOut:async()=>{},loading:!0,isAdmin:!1,userRole:null,updateUserProfile:async()=>{}}),l=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e};a()}catch(e){a(e)}})},550:(e,t,r)=>{r.a(e,async(e,a)=>{try{let e;r.d(t,{O:()=>e});var n=r(2885);try{console.log("Initializing Supabase client...");let t="https://risitify.com",r="your-production-anon-key";if(console.log("Supabase URL:",t),console.log("Supabase Anon Key:",r?"Provided":"Missing"),!t||!r)throw Error("Missing Supabase environment variables");e=(0,n.createClient)(t,r,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:void 0}}),console.log("Testing Supabase connection...");let{data:a,error:o}=await e.auth.getSession();o?console.error("Supabase connection test failed:",o):console.log("Supabase connection test successful"),console.log("Supabase client initialized successfully")}catch(e){throw console.error("Error initializing Supabase client:",e),e}a()}catch(e){a(e)}},1)},7742:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{cn:()=>i,x:()=>s});var n=r(6593);!function(){var e=Error("Cannot find module 'tailwind-merge'");throw e.code="MODULE_NOT_FOUND",e}();var o=e([n]);function i(...e){return Object(function(){var e=Error("Cannot find module 'tailwind-merge'");throw e.code="MODULE_NOT_FOUND",e}())((0,n.clsx)(e))}n=(o.then?(await o)():o)[0];let s=(e,t)=>new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e);a()}catch(e){a(e)}})},854:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>h});var n=r(997),o=r(6689),i=r(4661),s=r(5364),l=r(7095),c=r(9451),d=r(5659),u=r(550),f=r(7270),m=r(7568),p=e([s,l,c,d,u,f,m]);[s,l,c,d,u,f,m]=p.then?(await p)():p;let h=()=>{let e=(0,i.useNavigate)(),{user:t}=(0,m.a)(),[r,a]=(0,o.useState)([]),[p,h]=(0,o.useState)(!1),[x,g]=(0,o.useState)({name:"",description:"",client_id:"",start_date:"",end_date:"",status:"active"});(0,o.useEffect)(()=>{b()},[]);let b=async()=>{try{let{data:e,error:t}=await u.O.from("clients").select("id, name").order("name");if(t)throw t;a(e)}catch(e){console.error("Error fetching clients:",e),f.toast.error("Failed to load clients")}},v=async r=>{r.preventDefault(),h(!0);try{if(!t?.id)throw Error("User not authenticated");let{error:r}=await u.O.from("projects").insert([{...x,user_id:t.id}]);if(r)throw r;f.toast.success("Project created successfully"),e("/projects")}catch(e){console.error("Error creating project:",e),f.toast.error("Failed to create project")}finally{h(!1)}};return(0,n.jsxs)("div",{className:"max-w-2xl mx-auto space-y-4",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"New Project"}),(0,n.jsxs)("form",{onSubmit:v,className:"space-y-3",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,n.jsxs)("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Project Name"}),n.jsx(l.I,{id:"name",value:x.name,onChange:e=>g({...x,name:e.target.value}),required:!0})]}),(0,n.jsxs)("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),n.jsx(c.g,{id:"description",value:x.description,onChange:e=>g({...x,description:e.target.value}),className:"h-24"})]}),(0,n.jsxs)("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:"client",className:"text-sm font-medium",children:"Client"}),(0,n.jsxs)(d.Ph,{value:x.client_id,onValueChange:e=>g({...x,client_id:e}),children:[n.jsx(d.i4,{children:n.jsx(d.ki,{placeholder:"Select a client"})}),n.jsx(d.Bw,{children:r.map(e=>n.jsx(d.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,n.jsxs)("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:"start_date",className:"text-sm font-medium",children:"Start Date"}),n.jsx(l.I,{id:"start_date",type:"date",value:x.start_date,onChange:e=>g({...x,start_date:e.target.value}),required:!0})]}),(0,n.jsxs)("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:"end_date",className:"text-sm font-medium",children:"End Date"}),n.jsx(l.I,{id:"end_date",type:"date",value:x.end_date,onChange:e=>g({...x,end_date:e.target.value}),required:!0})]})]}),(0,n.jsxs)("div",{className:"space-y-1",children:[n.jsx("label",{htmlFor:"status",className:"text-sm font-medium",children:"Status"}),(0,n.jsxs)(d.Ph,{value:x.status,onValueChange:e=>g({...x,status:e}),children:[n.jsx(d.i4,{children:n.jsx(d.ki,{placeholder:"Select status"})}),(0,n.jsxs)(d.Bw,{children:[n.jsx(d.Ql,{value:"active",children:"Active"}),n.jsx(d.Ql,{value:"completed",children:"Completed"}),n.jsx(d.Ql,{value:"on_hold",children:"On Hold"}),n.jsx(d.Ql,{value:"cancelled",children:"Cancelled"})]})]})]})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-2 pt-2",children:[n.jsx(s.z,{type:"button",variant:"outline",onClick:()=>e("/projects"),children:"Cancel"}),n.jsx(s.z,{type:"submit",disabled:p,children:p?"Creating...":"Create Project"})]})]})]})};a()}catch(e){a(e)}})},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2885:e=>{e.exports=require("@supabase/supabase-js")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},4661:e=>{e.exports=require("react-router-dom")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},4338:e=>{e.exports=import("@radix-ui/react-slot")},6926:e=>{e.exports=import("class-variance-authority")},6593:e=>{e.exports=import("clsx")},7270:e=>{e.exports=import("sonner")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[1682],()=>r(8159));module.exports=a})();