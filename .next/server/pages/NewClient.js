"use strict";(()=>{var e={};e.id=5920,e.ids=[5920,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},8575:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>b,default:()=>p,getServerSideProps:()=>f,getStaticPaths:()=>g,getStaticProps:()=>x,reportWebVitals:()=>y,routeModule:()=>P,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>h});var s=r(7093),n=r(5244),o=r(1323),i=r(1682),l=r.n(i),d=r(8141),c=r.n(d),u=r(5066),m=e([u]);u=(m.then?(await m)():m)[0];let p=(0,o.l)(u,"default"),x=(0,o.l)(u,"getStaticProps"),g=(0,o.l)(u,"getStaticPaths"),f=(0,o.l)(u,"getServerSideProps"),b=(0,o.l)(u,"config"),y=(0,o.l)(u,"reportWebVitals"),h=(0,o.l)(u,"unstable_getStaticProps"),v=(0,o.l)(u,"unstable_getStaticPaths"),j=(0,o.l)(u,"unstable_getStaticParams"),w=(0,o.l)(u,"unstable_getServerProps"),N=(0,o.l)(u,"unstable_getServerSideProps"),P=new s.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/NewClient",pathname:"/NewClient",bundlePath:"",filename:""},components:{App:c(),Document:l()},userland:u});a()}catch(e){a(e)}})},3592:(e,t,r)=>{r.d(t,{Z:()=>u});var a=r(6689);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:n="",children:o,iconNode:c,...u},m)=>(0,a.createElement)("svg",{ref:m,...d,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:i("lucide",n),...!o&&!l(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]])),u=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...n},l)=>(0,a.createElement)(c,{ref:l,iconNode:t,className:i(`lucide-${s(o(e))}`,`lucide-${e}`,r),...n}));return r.displayName=o(e),r}},9763:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(3592).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8141:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let a=r(5577),s=r(997),n=a._(r(6689)),o=r(5782);async function i(e){let{Component:t,ctx:r}=e;return{pageProps:await (0,o.loadGetInitialProps)(t,r)}}class l extends n.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,s.jsx)(e,{...t})}}l.origGetInitialProps=i,l.getInitialProps=i,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7568:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{a:()=>l}),r(997);var s=r(6689),n=r(550),o=e([n]);n=(o.then?(await o)():o)[0];let i=(0,s.createContext)({session:null,user:null,signOut:async()=>{},loading:!0,isAdmin:!1,userRole:null,updateUserProfile:async()=>{}}),l=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e};a()}catch(e){a(e)}})},550:(e,t,r)=>{r.a(e,async(e,a)=>{try{let e;r.d(t,{O:()=>e});var s=r(2885);try{console.log("Initializing Supabase client...");let t="https://risitify.com",r="your-production-anon-key";if(console.log("Supabase URL:",t),console.log("Supabase Anon Key:",r?"Provided":"Missing"),!t||!r)throw Error("Missing Supabase environment variables");e=(0,s.createClient)(t,r,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:void 0}}),console.log("Testing Supabase connection...");let{data:a,error:n}=await e.auth.getSession();n?console.error("Supabase connection test failed:",n):console.log("Supabase connection test successful"),console.log("Supabase client initialized successfully")}catch(e){throw console.error("Error initializing Supabase client:",e),e}a()}catch(e){a(e)}},1)},7523:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{T:()=>o});var s=r(550),n=e([s]);s=(n.then?(await n)():n)[0];let o={async getClients(){let{data:e,error:t}=await s.O.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},async getClient(e){let{data:t,error:r}=await s.O.from("clients").select("*").eq("id",e).single();if(r)throw r;return t},async createClient(e){let{data:t,error:r}=await s.O.from("clients").insert(e).select().single();if(r)throw r;return t},async updateClient(e,t){let{data:r,error:a}=await s.O.from("clients").update(t).eq("id",e).select().single();if(a)throw a;return r},async deleteClient(e){let{error:t}=await s.O.from("clients").delete().eq("id",e);if(t)throw t}};a()}catch(e){a(e)}})},5066:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>m});var s=r(997),n=r(6689),o=r(4661),i=r(9763),l=r(7523),d=r(7270),c=r(7568),u=e([l,d,c]);[l,d,c]=u.then?(await u)():u;let m=()=>{let e=(0,o.useNavigate)(),{user:t}=(0,c.a)(),[r,a]=(0,n.useState)({name:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",country:"",taxId:"",notes:""}),u=e=>{let{name:t,value:r}=e.target;a(e=>({...e,[t]:r}))},m=async a=>{if(a.preventDefault(),!t){d.toast.error("You must be logged in to create a client");return}try{await l.T.createClient({user_id:t.id,name:r.name,email:r.email,phone:r.phone,address:r.address,city:r.city,state:r.state,postal_code:r.zipCode,country:r.country,tax_id:r.taxId,notes:r.notes}),d.toast.success("Client created successfully"),e("/clients")}catch(e){console.error("Error creating client:",e),d.toast.error("Failed to create client")}};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(o.Link,{to:"/clients",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700",children:[s.jsx(i.Z,{className:"h-4 w-4 mr-2"}),"Back to Clients"]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-4",children:"New Client"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Add a new client to your system"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:(0,s.jsxs)("form",{onSubmit:m,className:"p-6",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Company Name"}),s.jsx("input",{type:"text",name:"name",id:"name",value:r.name,onChange:u,className:"mt-1 block w-full border border-gray-200 rounded-md py-2 px-3 focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",name:"email",id:"email",value:r.email,onChange:u,className:"mt-1 block w-full border border-gray-200 rounded-md py-2 px-3 focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),s.jsx("input",{type:"tel",name:"phone",id:"phone",value:r.phone,onChange:u,className:"mt-1 block w-full border border-gray-200 rounded-md py-2 px-3 focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"taxId",className:"block text-sm font-medium text-gray-700",children:"Tax ID"}),s.jsx("input",{type:"text",name:"taxId",id:"taxId",value:r.taxId,onChange:u,className:"mt-1 block w-full border border-gray-200 rounded-md py-2 px-3 focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary"})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Street Address"}),s.jsx("input",{type:"text",name:"address",id:"address",value:r.address,onChange:u,className:"mt-1 block w-full border border-gray-200 rounded-md py-2 px-3 focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),s.jsx("input",{type:"text",name:"city",id:"city",value:r.city,onChange:u,className:"mt-1 block w-full border border-gray-200 rounded-md py-2 px-3 focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),s.jsx("input",{type:"text",name:"state",id:"state",value:r.state,onChange:u,className:"mt-1 block w-full border border-gray-200 rounded-md py-2 px-3 focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),s.jsx("input",{type:"text",name:"zipCode",id:"zipCode",value:r.zipCode,onChange:u,className:"mt-1 block w-full border border-gray-200 rounded-md py-2 px-3 focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),s.jsx("input",{type:"text",name:"country",id:"country",value:r.country,onChange:u,className:"mt-1 block w-full border border-gray-200 rounded-md py-2 px-3 focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary"})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),s.jsx("textarea",{name:"notes",id:"notes",rows:4,value:r.notes,onChange:u,className:"mt-1 block w-full border border-gray-200 rounded-md py-2 px-3 focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary"})]})]})]}),(0,s.jsxs)("div",{className:"mt-8 flex justify-end space-x-3",children:[s.jsx(o.Link,{to:"/clients",className:"px-4 py-2 border border-gray-200 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium text-white bg-[#0f172a] hover:bg-[#0f172a]/90",children:"Create Client"})]})]})})]})})};a()}catch(e){a(e)}})},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2885:e=>{e.exports=require("@supabase/supabase-js")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},4661:e=>{e.exports=require("react-router-dom")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},7270:e=>{e.exports=import("sonner")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[1682],()=>r(8575));module.exports=a})();